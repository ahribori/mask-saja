(this["webpackJsonpreact-kakaomap-templates"]=this["webpackJsonpreact-kakaomap-templates"]||[]).push([[0],{43:function(e,t,a){e.exports={App:"App_App__3jZN5"}},55:function(e,t,a){e.exports=a(85)},60:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(14),r=a.n(c),i=(a(60),a(119)),s=a(49),l=a(25),u=a(112),p=Object(s.a)({palette:{primary:l.a,secondary:u.a},typography:{fontFamily:["Noto Sans KR","-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue"].join(",")}}),m=a(43),d=a.n(m),f=a(11),g=a(12),h=a(44),b=a(113),v=a(114),E=a(115),O=a(116),j=a(120),k=a(7),w=a(47),S=a.n(w),y=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(g.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(g.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(k.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(k.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(g.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}})),C=function(e){var t=e.onSearch,a=y(),c=Object(n.useState)(""),r=Object(f.a)(c,2),i=r[0],s=r[1];return o.a.createElement("div",{className:a.root},o.a.createElement(v.a,{position:"fixed"},o.a.createElement(E.a,null,o.a.createElement(O.a,{className:a.title,variant:"h6",noWrap:!0},"\ub9c8\uc2a4\ud06c \uc0ac\uc790"),o.a.createElement("div",{className:a.search},o.a.createElement("div",{className:a.searchIcon},o.a.createElement(S.a,null)),o.a.createElement(j.a,{placeholder:"\uac74\ubb3c, \uc9c0\uc5ed \uac80\uc0c9...",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return s(e.target.value)},value:i,onKeyPress:function(e){13===e.charCode&&t(i)}})))))};C.defaultProps={onSearch:function(){}};var N=C,L=a(88),x=a(117),I=a(122),B=Object(b.a)((function(e){return{toolbar:Object(g.a)({position:"fixed",zIndex:99999,right:e.spacing(1),top:e.spacing(8),backgroundColor:"#fff"},e.breakpoints.up("sm"),{top:e.spacing(10),right:e.spacing(2)})}})),R=function(e){var t=e.pending,a=e.onLocationButtonClick,n=B();return o.a.createElement("div",{className:n.toolbar},o.a.createElement(x.a,{orientation:"vertical",variant:"contained",color:"primary","aria-label":"contained primary button group"},o.a.createElement(L.a,{variant:"outlined",disabled:t,onClick:function(){return a()}},o.a.createElement(I.a,null))))};R.defaultProps={onLocationChange:function(){}};var T,_=R,z=a(121),P=a(23),A=a(48),U=a(20),W=a.n(U),F=W.a.CancelToken,H=function(){function e(){Object(P.a)(this,e)}return Object(A.a)(e,[{key:"fetchShopsByBounds",value:function(e,t,a,n){return T&&T(),W.a.get("http://api.adrinerdp.co/getSpots?lon1=".concat(a,"&lon2=").concat(n,"&lat1=").concat(e,"&lat2=").concat(t,"&fbclid=IwAR09XPXYvHaeIZh93DN2I5fUd1vZmFgVj7B0i9bppCxHUfy3Iur7W2b6zEo"),{cancelToken:new F((function(e){T=e}))})}}]),e}(),G=new function e(){Object(P.a)(this,e),this.Shop=new H},M=Object(b.a)((function(e){return{info:{position:"fixed",zIndex:9999,backgroundColor:"rgba(0,0,0,0.6)",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",top:"50%",left:"50%",width:240,height:80,marginTop:-40,marginLeft:-120,fontSize:15}}})),Z=function(e){var t=e.message,a=M();return o.a.createElement("div",{className:a.info},t)},D=a(118),K=a(26),J=Object(b.a)((function(e){return{normal:{padding:e.spacing(1),backgroundColor:l.a[700],color:"#fff"},soldOut:{padding:e.spacing(1),backgroundColor:K.a[500],color:"#fff"},title:{fontSize:13,fontWeight:700},content:{fontSize:11}}})),X=function(e){var t=e.code,a=e.name,n=(e.type,e.addr,e.tel,e.stock_d,e.stock_t,e.stock_cnt,e.sold_cnt,e.remain_cnt),c=e.sold_out,r=(e.lat,e.lng,J());return o.a.createElement("div",{"data-shop-code":t,className:r.container},!c&&o.a.createElement(D.a,{className:r.normal},o.a.createElement(O.a,{className:r.title},a),o.a.createElement(O.a,{className:r.content,component:"p"},"\ub0a8\uc740 \uc218\ub7c9: ",n)),c&&o.a.createElement(D.a,{className:r.soldOut},o.a.createElement(O.a,{className:r.title},a),o.a.createElement(O.a,{className:r.title},"SOLD OUT")))},q=(a(84),Object(b.a)((function(e){return{map:{width:"100%",height:"100%"},progress:Object(g.a)({position:"fixed",zIndex:9999,width:"100%",top:56},e.breakpoints.up("sm"),{top:64})}})));var V=function(){var e=Object(n.useState)(!0),t=Object(f.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(window.kakao),i=Object(f.a)(r,1)[0],s=Object(n.useState)(null),l=Object(f.a)(s,2),u=l[0],p=l[1],m=Object(n.useState)(null),d=Object(f.a)(m,2),g=d[0],b=d[1],v=Object(n.useState)(""),E=Object(f.a)(v,2),O=E[0],j=E[1],k=q(),w=function(e,t){var a=Object(n.useState)(e),o=Object(f.a)(a,2),c=o[0],r=o[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){r(e)}),t);return function(){clearTimeout(a)}}),[e,t]),c}(g,300),S=function(){navigator.geolocation?(c(!0),navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,n=t.longitude,o=new i.maps.LatLng(a,n);u.panTo(o),b(C()),c(!1)}),(function(){c(!1)}))):c(!1)},y=function(){return document.querySelectorAll("[data-shop-code]").forEach((function(e){return e.parentNode.removeChild(e)}))},C=Object(n.useCallback)((function(){return u.getBounds()}),[u]);return Object(n.useEffect)((function(){var e=document.getElementById("map"),t={center:new i.maps.LatLng(37.4019528117587,127.10828323199647),level:5},a=new i.maps.Map(e,t);p(a),c(!1)}),[i.maps]),Object(n.useEffect)((function(){u&&(S(),i.maps.event.addListener(u,"tilesloaded",(function(){u.getLevel()<=6?(b(C()),j("")):(y(),T&&(T(),c(!1)),j("\uc9c0\ub3c4\ub97c \uc880 \ub354 \ud655\ub300\ud574\uc8fc\uc138\uc694"))})))}),[u]),Object(n.useEffect)((function(){if(g){var e=g.getSouthWest(),t=g.getNorthEast(),a=e.Ga,n=e.Ha,r=t.Ga,s=t.Ha;c(!0),G.Shop.fetchShopsByBounds(n,s,a,r).then((function(e){!function(e){y(),e.forEach((function(e){var t=e.lat,a=e.lng;new i.maps.CustomOverlay({map:u,clickable:!0,position:new i.maps.LatLng(a,t),content:Object(h.renderToStaticMarkup)(o.a.createElement(X,e)),zIndex:99999}).setMap(u)}))}(e.data),c(!1)})).catch((function(e){W.a.isCancel(e)||c(!1)}))}}),[w]),o.a.createElement(o.a.Fragment,null,o.a.createElement(N,{onSearch:function(e){var t;e&&(t=e,c(!0),(new i.maps.services.Places).keywordSearch(t,(function(e,t){if(t===i.maps.services.Status.OK){var a=e[0],n=a.x,o=a.y,r=new i.maps.LatLng(o,n);u.panTo(r)}else t===i.maps.services.Status.ZERO_RESULT?alert("\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):alert("\uc11c\ube44\uc2a4\uc5d0 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");c(!1)})))}}),o.a.createElement(_,{pending:a,onLocationButtonClick:S}),a&&o.a.createElement(z.a,{color:"secondary",className:k.progress}),O&&o.a.createElement(Z,{message:O}),o.a.createElement("div",{id:"map",className:k.map}))};var Y=function(){return o.a.createElement(i.a,{theme:p},o.a.createElement("div",{className:d.a.App},o.a.createElement(V,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.b4618eaf.chunk.js.map